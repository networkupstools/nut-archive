
link:page4.html[Previous]
|
link:../[Up]
| Page 5 |
link:page6.html[Next]



''''


=== 400 Using
Commands to Communicate with the Fortress*


This section explains how to communicate with the Fortress in RS232 mode. See
Section 300 to start two-way communication. If you plan to use
CheckUPS II software, see the online manual on the CheckUPS CD for
more information about UPS monitoring and control. +


=== 401 Passwords

Before you can enter some commands, you must enter a password, 'Mere are two levels
of passwords: User and Service. To enter the User password, type the
following at the => prompt: *pw 377 <ENTER>.* After you
enter the password, the prompt will change to "User=>." The
Service password is for more advanced parameter programming and for
service functions. Before you change parameters, you should make sure
you understand the effects of the change; if you are not sure, call
Best Power for help. To enter the Service password, type *pw 2639
<ENTER>.* The prompt will change to "Serv=>". +


=== 402 Commands +

You can only enter commands if the Fortress is in the RS232 Communication Mode and
you are not using CheckUPS II. To enter a command, simply type it in
and press <ENTER>. You can type the command in uppercase or
lowercase, and you can use the whole command or the short form, or
you can abbreviate the command as long as you include the letters in
the short form. You can also enter more than one command at once if
you put a semicolon between commands. The table on the next few pages
shows each command, its short form, the password required (if any),
and what the command does. +


image:images/gr000006.png["commands"] +
image:images/gr000007.png["commands"] +
image:images/gr000008.png["commands"] +
 
=== 403 Help Commands

You can use some commands to help you learn more about how the
Fortress works. These commands are *alarmshelp, alarmstatus, and
commands.*

==== AlarmsHelp and AlarmStatus Commands

The *alarmshelp and alarmstatus* commands display a list of
alarms with their letters and codes, the current status of the alarm
(active or off), and the relay setting. See the sample list
below: +

image:images/BP0001.png["alarm list"]



==== Commands +

When you enter *commands,* the terminal will display a list of
commands. +

.Note:
[NOTE]
=========================
The following commands in the displayed list are not implemented for
Fortress: *alarmlog, chargermode, clearlogs, help, inverterlog,
and logs.* If you use the help command, you will be referred to
the Fortress User Guide; if you use the other commands, you will
receive the message "Command not implemented." The command list
also shows commands that you cannot use without a password higher
than the Service password. See Section 402 for a list of valid
commands and the passwords you need to use them. +
==========================

=== 404 Status Commands +

The *alarmstatus* command shows the same alarm information
that the *alarmshelp* command does. See the sample above. The
*status and contstatus* commands display several Fortress
parameter values, active alarins, and other status information. The
next page shows an example of a status display. +






__System status report for L1520VA [Unit ID - parameter 15] (Serial Number) Friday, July
12, 1996 - 12:32:41__ +
image:images/gr000009.png["status report"] +

Front panel: L  --| 30 +
Last battery power run duration: 25 seconds +
Active alarms: +
(None) +



In the *status*
display, the table shows the values of many Fortress parameters and
the status of Fortress operation. +
*Line Status:* "V In" and "V Out" show the input and output
voltage, "Freq" shows the output frequency, and "PF" shows the power
factor. See parameters 1, 2, 8, and 18 in Section 501 for more
information. +

*Load Status:* "I Out" shows the output current, "VA Out" shows
the output volt-amperes, "Watts" shows the output watts, and
"FullLoad%" shows the percent of the Fortress' power your equipment
(or load) is using. See parameters 4, 5, 17, and 16 in Section 501
for more information. +

*UPS Status:* "Mode" shows whether the unit is running on line
(utility power) or battery. "Tap" shows whether the UPS is using
boost (to increase a low input voltage), buck (to decrease a high
input voltage), or bypass (to condition input voltage that is at
acceptable levels). "V Batt" shows the battery voltage, and "Runtime"
shows how long the unit can run on battery power; see parameters 7
and 9 in Section 501 for more information. +

Totals: "SysHrs" shows the total nurnber of hours the Fortress has
operated. "InvMin" shows the number of minutes the Fortress has
operated on inverter (battery power) since it started. "#PwrOut"
shows how many power outages have taken place since you started the
Fortress, and "#OvrLds" shows how many times the Fortress has been
overloaded since you started the Fortress. See parameters 22, 23, 20,
and 21 in Section 501 for more information. +

*Front Panel:* This part of the status report approximates what
you will see on the Fortress front panel. In the example, "L" means
the green light (the "line" light) is on, which shows that the
Fortress is running on utility power. The two dashes behind the line
mean that the yellow light and red light are not on. If they were,
you would see a "B" (meaning the Fortress was running on battery
power) and an "A" (meaning Fortress is sounding an alarm). "30" is
the number shown on display; since the green (L) light is on, this is
the percent of the UPS' total power that your equipment is using. See
the Fortress User Guide for more information about the display. +

*Last Battery Power Run Duration:* This entry shows how long the
UPS ran on battery power last time there was a power outage or severe
power problem. +

*Active Alarms:* The last part of the status report shows which
alarms are active. If the UPS is not sounding any alarms, the report
will show "(None)" as it does in the example. +


The *contstatus* command shows the same report as the status
command, but it continuously updates the information until you press
a key. +


=== 405 Parameter Commands +

This section describes the commands you can use to display and
program parameters. +
When you use the commands described below, you must often specify a
parameter. To do this, you can enter the parameter number or its
name. The Parameter Table in Section 501 shows the name you can use
for each parameter; you can also use the short form shown in the
table, or you can enter an abbreviation of the name as long as you
include the letters in the short form. (You can also abbreviate
commands; see Section 402.) +
The *display, contdisplay, parameters and paramkeywords* commands let you display parameters. The program command changes
parameter values. +

==== Display +

The *display (or d)* command lets you display specific
parameters on your computer or terminal. For example, if you enter
*display 0, display time or d t,* your computer or terminal will
display parameter 0 (below). Notice that you must leave a space
between the command and the parameter number or name. +

__00 Time 14:42:21__ +


If you enter more than one parameter name or number after this command, your
computer or terminal will display those parameters. For example, if
you enter d time 38 10, the display will show parameters 0, 38, and
10: +

__00 Time 14:42:21__ +
__38 LowRuntime 5__ +
__10 Date 08/30/96__ +

Notice that you can mix names and numbers, and you can list the parameters in any
order. +
If you have already displayed a parameter, you can display the next
parameter by entering *display* alone.


==== Contdisplay +

The *contdisplay (or cd)* command works like the *display* command, but it constantly updates the parameter values displayed
until you press a key.


==== Parameters +

Like the *display* command, the *parameters (or p)* command will display a parameter if you enter a parameter number
or name after the command. For example, If you enter *parameter 0,
parameter time, or p t,* your terminal or computer will display
something like the sample on the next page. +

__00 Time 14:42:21__

However, the *parameters* command works differently when you
enter it alone or when you enter more than one parameter after the
command. When you enter *parameters (or p)* alone, your computer
or terminal displays all of the user-level and service-level
parameters shown in Section 501. +
To display a range of parameters, enter the starting and ending
parameters after the command. Instead of showing just the parameters
you list (as the *display* command does), the *parameters* command will display all of the parameters in between. For
example, if you enter *parameter 0 5, parameter time vaout, or p t
va,* your computer or terminal will display parameters 0 through
5: +

__00 Time 14:42:21__ +
__01 V In__ +
__118.2__ +
__02 V Out__ +
__118.2__ +
__03 *L - A 00__ +
__04 I__ +
__Out 11.8__ +
__05__ +
__VA Out__ +   
__345__ +



==== Paramkeywords +

The *paramkeywords (or pk)* command works like the *parameters* command, but it also displays the keyword or name of each
parameter you display. (The keyword is the name shown in Section
501.) For example, if you enter *paramkeywords time vaout (or pk t
va),* your computer or terminal will display a list like this
example: +

__00 Time 14:43:59 Time__ +
__01 V In 118.2__ +  
__acVoltsIn__ +
__02 V__ +
__Out__ +
__118.8__ +
__acVoltsout__ +
__03 *L - A | 00 DiSplay__ +
__04 I Out 11.8 acampsiOut__ +
__05 VA Out 345 VAout__ +


Notice that some
letters are capitalized in the keywords on the right. These letters
make up the short form of the parameter name (or keyword). +
To display all of the user and service parameters and their keywords,
enter *paramkeywords (or pk)* alone. +


==== Program +


Before you can program or change some parameters, you must enter
the User or Service password. (See Section 40 1.) Some parameters
cannot be changed; see Section 5 0 1. +
The *program (or pr)* command lets you program parameters.
Simply type *program,* the parameter number or name, and the new
value. +
Example: If you enter *program time 09:30:00,* the time will be
changed to 9:30 a.m. If you then display the parameter using the
command *display time,* you will see a display similar to
this: +

__00 Time 09:30:00__ +


=== 406 The Format Commands

The three *format* commands tell the Fortress to send system status and metering
information in a fixed format. You can incorporate this information
into your computer system's software without any text or punctuation.
There are three commands: *format (f), formatconfig* (fc), and
*formatparam (fp).* +
For the *format* (f) command, the data string is made up
of: +

* two carriage returns and a line feed,
* 80 ASCII characters that represent 40 hexadecimal bytes of information, and
* two more carriage returns and a line feed. +



The characters in the
string represent the data shown in the table on the next two pages.
For an example +
of the string, see page 19. +


image:images/gr000010.png["f string details"] +
image:images/gr000011.png["f string details"]


For the *formatconfig* (fc) command, the data string is made up of

* a carriage return and a line feed, +
* the data string defined in the following table, and +
* another carriage return and a line feed. +



*	.Note:
[NOTE]
==================
The header and the first 70 characters in the string are always
present; if the information required for one of these characters
is not available, the characters will be filled with a question
mark (?). After character 70, all characters are optional. This
means that if the information is not available, the characters are
not included in the string; however, backslashes will appear
between fields of information even if there is no information in a
particular field. +
===================


The table on the next two pages shows the fc-string fields in the
order in which they appear. The table does not identify the character
position because this depends on the length of some fields and the
number of fields that are present. For an example of the string with
the fields identified, see page 19. +


image:images/gr000012.png["fc string details"] +
image:images/gr000013.png["fc string details"]


For the *formatparam (fp)* command, the data string is made up of

* a carriage return and a line feed, +
* the data string defined in the following table, and +
* another carriage return and a line feed. +

.Note:
[NOTE]
=====================
The header and the first 124 characters in the string are always
present; if the information required for one of these characters
is not available, the characters will be filled with a question
mark (?), All characters after character 124 are optional. This
means that if the information is not available, the characters are
not included in the string; however, backslashes will still appear
between fields of information even if there is no information in a
particular field. +
=====================



The table on the next two pages shows the fp-string fields in the
order in which they. appear. The table does not identify the
character position because this depends on the length of some fields
and the number of fields that are present. For an example of the fp
string with the fields identified, see page 19. +


image:images/gr000014.png["fp string details"] +
image:images/gr000015.png["fp string details"]


*Examples:* +
Below you will find examples of the strings sent in response to
the *format (f)* command, the 
*formatconfig (fc)* command, and the *formatparam (fp)*
command. In these examples, some parts of the 
string are shaded to show you the fields or groups of information.
The shading is not part of the data string. +
*__The format (f) command):__* +

image:images/gr000016.png["f command example"] +

*__The formatconfig (fc) command:__* +

image:images/gr000017.png["fc command example"] +

*__The formatparam (fp) command:__* +

image:images/gr000018.png["fp command example"] +

''''



link:page4.html[Previous]
|
link:../[Up]
| Page 5 |
link:page6.html[Next]

